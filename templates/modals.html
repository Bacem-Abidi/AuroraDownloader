{% block modals %}
<div id="modal-overlay" class="modal-overlay hidden"></div>

<div id="match-modal" class="modal hidden">
  <div class="modal-card">
    <div class="modal-header">
      <h3>Choose a match</h3>
      <p id="match-modal-desc" class="modal-subtitle"></p>
    </div>

    <div id="match-list" class="match-list"></div>

    <div class="modal-footer">
      <div  class="actions">
        <button id="skip-match" class="btn btn-secondary">
          Skip this track
        </button>
        <button id="research-songs" class="btn btn-secondary" style="display:none;">
          Search as Song
        </button>
        <button id="research-videos" class="btn btn-secondary" style="display:none;">
          Search as video
        </button>
      </div>
      <div id="manual-video-wrapper" class="manual-video hidden">
        <input
          id="manual-video-id"
          type="text"
          placeholder="Paste YouTube video ID or URL"
        />
        <button id="manual-submit" class="btn btn-primary">
          Use video
        </button>
      </div>
    </div>
  </div>
</div>


<div id="retry-modal" class="modal hidden">
  <div class="modal-card">
    <!-- Header -->
    <div class="modal-header">
      <div class="redo-title">
        <i class="fas fa-redo"></i>
        <span>Retry Failed Downloads</span>
      </div>
      <button class="modal-close" id="retry-modal-close" aria-label="Close">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Main Content -->
    <div class="modal-content retry-content">

      <div class="option">
       <div class="playlist-row">
          <label for="retry-count-input" style="width: 75%;">Retry by number</label>
          <div class="retry-count-wrapper">
            <input type="text" placeholder="e.g. 5" id="retry-count-input" class="form-control"></select>
            <button id="retry-count-btn" class="btn btn-secondary">Retry</button>
          </div>
       </div> 
      </div>

      <!-- Retry by Playlist -->
      <div class="option">
       <div class="playlist-row">
          <label for="retry-playlist-select">Retry by Playlist</label>
          <div class="retry-playlist-wrapper">
            <select id="retry-playlist-select" class="form-control"></select>
            <button id="retry-playlist-btn" class="btn btn-secondary">Retry</button>
          </div>
       </div> 
      </div>

    </div>

    <!-- Footer -->
    <div class="modal-footer retry-footer">
      <button class="btn btn-danger" id="retry-modal-cancel">
        Cancel
      </button>
      <button id="retry-all-btn" class="btn btn-primary btn-block">
          <i class="fas fa-redo"></i> Retry All
        </button>
    </div>
  </div>
</div>



<!-- FAILED DOWNLOAD LAYOUT -->
<div id="failed-modal" class="modal hidden failed-layout failed-only" role="dialog" aria-modal="true">

  <div class="modal-header">
    <div class="failed-title">
      <i class="fas fa-exclamation-triangle"></i>
      <span>Failed Download</span>
    </div>
    <button class="modal-close" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <div class="failed-url mono" id="info-url"></div>

  <div class="failed-grid">
    <div><span>Playlist</span><strong id="info-playlist"></strong></div>
    <div><span>Index</span><strong id="info-index"></strong></div>

    <div><span>Format</span><strong id="info-format"></strong></div>
    <div><span>Quality</span><strong id="info-quality"></strong></div>

    <div class="full">
      <span>Type</span><strong id="info-type"></strong>
    </div>
  </div>

  <div class="failed-divider">Failure Details</div>

  <div class="failed-statuses mono" id="info-statuses"></div>

  <div class="failed-actions">
    <button class="btn retry-btn">
      <i class="fas fa-redo"></i> Retry
    </button>
    <button class="btn copy-btn" id="copy-btn">
      <i class="fas fa-copy"></i> Copy URL
    </button>
  </div>

</div>


<div id="info-modal" class="modal hidden normal-only" role="dialog" aria-modal="true">
  <div class="modal-header">
    <h3>Track Information</h3>
    <button class="modal-close" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <div class="info-media">
    <img id="info-artwork" class="info-artwork" alt="Artwork">
    <div class="info-meta">

      <span class="info-duration" id="info-duration"></span>
    </div>
  </div>


  <div class="modal-content">
    <div class="info-row">
      <span class="info-label">Title</span>
      <span class="info-value" id="info-title"></span>
    </div>

    <div class="info-row">
      <span class="info-label">Artist</span>
      <span class="info-value" id="info-artist"></span>
    </div>

    <div class="info-row">
      <span class="info-label">Album</span>
      <span class="info-value" id="info-album"></span>
    </div>

    <div class="info-row">
      <span class="info-label">Year</span>
      <span class="info-value" id="info-year"></span>
    </div>

    <div class="info-row">
      <span class="info-label">Format</span>
      <span class="info-value" id="info-format"></span>
    </div>

    <div class="info-row">
      <span class="info-label">Path</span>
      <span class="info-value mono" id="info-path"></span>
    </div>
  </div>
</div>
{% endblock %}
